{"Version":"2019-10-30","StartAction":"c022d2c3-ef3d-4df5-8708-f0b57a1a90bc","Metadata":{"entryPointPosition":{"x":14.4,"y":14.4},"ActionMetadata":{"c022d2c3-ef3d-4df5-8708-f0b57a1a90bc":{"position":{"x":148,"y":49.6}},"e671feb8-bd2a-44eb-8257-225918f54fcb":{"position":{"x":176.8,"y":293.6},"dynamicParams":[]},"1acaf794-a551-472d-9188-b2d851c61ed5":{"position":{"x":438.4,"y":350.4},"overrideConsoleVoice":false},"fe0cff31-99e2-4b4a-b1ec-ff7baa711d7b":{"position":{"x":1743.2,"y":155.2}},"741f5543-08f3-4926-ae90-e7859134a78a":{"position":{"x":688,"y":32},"conditions":[],"conditionMetadata":[{"id":"8e4d4fb5-f170-4595-a9ac-354dd6551a5b","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"PENDING"},{"id":"508898ad-1d1e-4f0f-af23-55fa9c696646","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"OFFERED"},{"id":"dd16c849-2891-4ccd-82da-4ff497489749","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"CANCELLED"},{"id":"94052605-6ba0-41ed-9c0e-df6107200cb4","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"COMPLETED"}]},"32a51501-73b5-4f71-88fa-e63ed03bc0a6":{"position":{"x":702.4,"y":432.8},"parameters":{"Attributes":{"CallbackNumber":{"useDynamic":true}}},"dynamicParams":["CallbackNumber"]},"01abbd23-f5ad-4aee-9365-78250e6bdef3":{"position":{"x":949.6,"y":428.8},"parameters":{"LambdaFunctionARN":{"displayName":"dev-ccaas-callback-get-current-time-fn"}},"dynamicMetadata":{}},"7e89227a-8e96-459d-b243-379815f05ecc":{"position":{"x":1407.2,"y":305.6}},"524ea6da-cb59-4ff9-8450-30ad2cbf841a":{"position":{"x":713.6,"y":702.4},"parameters":{"Attributes":{"CallBackStatusDT":{"useDynamic":true},"ContactId":{"useDynamic":true}}},"dynamicParams":["CallBackStatusDT","ContactId"]},"3ea4d872-be86-4b49-a863-3dcac9335bed":{"position":{"x":945.6,"y":690.4},"parameters":{"LambdaFunctionARN":{"displayName":"dev-ccaas-callback-update-callback-fn"}},"dynamicMetadata":{}}},"Annotations":[],"name":"cbOutboundWhisper","description":"Default flow for outbound calls.","type":"contactFlow","status":"published","hash":{}},"Actions":[{"Parameters":{"FlowLoggingBehavior":"Enabled"},"Identifier":"c022d2c3-ef3d-4df5-8708-f0b57a1a90bc","Type":"UpdateFlowLoggingBehavior","Transitions":{"NextAction":"e671feb8-bd2a-44eb-8257-225918f54fcb"}},{"Parameters":{"Attributes":{"ContactFlowName":"cbOutboundWhisper"},"TargetContact":"Current"},"Identifier":"e671feb8-bd2a-44eb-8257-225918f54fcb","Type":"UpdateContactAttributes","Transitions":{"NextAction":"1acaf794-a551-472d-9188-b2d851c61ed5","Errors":[{"NextAction":"1acaf794-a551-472d-9188-b2d851c61ed5","ErrorType":"NoMatchingError"}]}},{"Parameters":{"TextToSpeechVoice":"Joanna"},"Identifier":"1acaf794-a551-472d-9188-b2d851c61ed5","Type":"UpdateContactTextToSpeechVoice","Transitions":{"NextAction":"741f5543-08f3-4926-ae90-e7859134a78a"}},{"Parameters":{},"Identifier":"fe0cff31-99e2-4b4a-b1ec-ff7baa711d7b","Type":"EndFlowExecution","Transitions":{}},{"Parameters":{"ComparisonValue":"$.Attributes.CallBackStatus"},"Identifier":"741f5543-08f3-4926-ae90-e7859134a78a","Type":"Compare","Transitions":{"NextAction":"fe0cff31-99e2-4b4a-b1ec-ff7baa711d7b","Conditions":[{"NextAction":"32a51501-73b5-4f71-88fa-e63ed03bc0a6","Condition":{"Operator":"Equals","Operands":["PENDING"]}},{"NextAction":"32a51501-73b5-4f71-88fa-e63ed03bc0a6","Condition":{"Operator":"Equals","Operands":["OFFERED"]}},{"NextAction":"32a51501-73b5-4f71-88fa-e63ed03bc0a6","Condition":{"Operator":"Equals","Operands":["CANCELLED"]}},{"NextAction":"32a51501-73b5-4f71-88fa-e63ed03bc0a6","Condition":{"Operator":"Equals","Operands":["COMPLETED"]}}],"Errors":[{"NextAction":"fe0cff31-99e2-4b4a-b1ec-ff7baa711d7b","ErrorType":"NoMatchingCondition"}]}},{"Parameters":{"Attributes":{"CallbackNumber":"$.CallbackNumber"},"TargetContact":"Current"},"Identifier":"32a51501-73b5-4f71-88fa-e63ed03bc0a6","Type":"UpdateContactAttributes","Transitions":{"NextAction":"01abbd23-f5ad-4aee-9365-78250e6bdef3","Errors":[{"NextAction":"01abbd23-f5ad-4aee-9365-78250e6bdef3","ErrorType":"NoMatchingError"}]}},{"Parameters":{"LambdaFunctionARN":"arn:aws:lambda:us-east-1:043203471090:function:dev-ccaas-callback-get-current-time-fn","InvocationTimeLimitSeconds":"8","ResponseValidation":{"ResponseType":"STRING_MAP"}},"Identifier":"01abbd23-f5ad-4aee-9365-78250e6bdef3","Type":"InvokeLambdaFunction","Transitions":{"NextAction":"524ea6da-cb59-4ff9-8450-30ad2cbf841a","Errors":[{"NextAction":"524ea6da-cb59-4ff9-8450-30ad2cbf841a","ErrorType":"NoMatchingError"}]}},{"Parameters":{"SSML":"<speak>Hello, This is your requested call. This call may be monitored or recorded. </speak>"},"Identifier":"7e89227a-8e96-459d-b243-379815f05ecc","Type":"MessageParticipant","Transitions":{"NextAction":"fe0cff31-99e2-4b4a-b1ec-ff7baa711d7b"}},{"Parameters":{"Attributes":{"CallBackStatus":"COMPLETED","CallBackStatusDT":"$.External.DateTime","ContactId":"$.ContactId"},"TargetContact":"Current"},"Identifier":"524ea6da-cb59-4ff9-8450-30ad2cbf841a","Type":"UpdateContactAttributes","Transitions":{"NextAction":"3ea4d872-be86-4b49-a863-3dcac9335bed","Errors":[{"NextAction":"3ea4d872-be86-4b49-a863-3dcac9335bed","ErrorType":"NoMatchingError"}]}},{"Parameters":{"LambdaFunctionARN":"arn:aws:lambda:us-east-1:043203471090:function:dev-ccaas-callback-update-callback-fn","InvocationTimeLimitSeconds":"8","ResponseValidation":{"ResponseType":"STRING_MAP"}},"Identifier":"3ea4d872-be86-4b49-a863-3dcac9335bed","Type":"InvokeLambdaFunction","Transitions":{"NextAction":"7e89227a-8e96-459d-b243-379815f05ecc","Errors":[{"NextAction":"7e89227a-8e96-459d-b243-379815f05ecc","ErrorType":"NoMatchingError"}]}}]}