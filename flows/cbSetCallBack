{"Version":"2019-10-30","StartAction":"247d9c40-5aa3-4084-9d51-80675d085a25","Metadata":{"entryPointPosition":{"x":14.4,"y":14.4},"ActionMetadata":{"1126138c-8f58-430a-8a47-cd69238e0b12":{"position":{"x":1780,"y":1134.4}},"f793b110-8689-44e1-9bd3-1c82e2739627":{"position":{"x":2065.6,"y":1156}},"b9e8e8c7-c584-4278-adc3-cba473c42dba":{"position":{"x":2352,"y":1189.6}},"6a5fd37f-c0d6-46d2-a706-61b194702f39":{"position":{"x":1780.8,"y":919.2},"parameters":{"LambdaFunctionARN":{"displayName":"dev-000-callbackmgmt-get-current-time"}},"dynamicMetadata":{}},"6451f55d-9b94-4e7c-8fe8-db96c6e99227":{"position":{"x":2050.4,"y":933.6},"parameters":{"Attributes":{"cbCancelledDate":{"useDynamic":true},"CallBackStatusDT":{"useDynamic":true}}},"dynamicParams":["cbCancelledDate","CallBackStatusDT"]},"22bc07f9-2c8d-4667-931e-3f65ce900685":{"position":{"x":2380,"y":932},"parameters":{"LambdaFunctionARN":{"displayName":"dev-000-callbackmgmt-update-callback"}},"dynamicMetadata":{}},"0b0a6cdb-ffb9-42fd-a7a1-17764ee1eebb":{"position":{"x":3405.6,"y":984.8},"dynamicParams":[]},"99161399-9635-4896-a1d0-c3d0878d477e":{"position":{"x":3412.8,"y":772.8},"dynamicParams":[]},"8341a4e1-6821-4941-ad5b-f78806cee85c":{"position":{"x":2821.6,"y":748.8},"parameters":{"LambdaFunctionARN":{"displayName":"dev-000-callbackmgmt-stop-contact"}},"dynamicMetadata":{}},"af45db43-5225-404f-8489-72affce5c413":{"position":{"x":3113.6,"y":740.8},"conditions":[],"conditionMetadata":[{"id":"08d5bb85-63d1-4df6-a898-38c4184ed457","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"200"}]},"8973c172-5315-44cf-b00d-a65972c7e0b8":{"position":{"x":1348.8,"y":1327.2}},"63136230-1f72-4fd3-add2-ee9a25cbc55f":{"position":{"x":3793.6,"y":820}},"201fe983-f15c-4c33-be09-62c1c30d27a3":{"position":{"x":1653.6,"y":1339.2}},"bc619004-b383-41d0-aadb-4380fe768d95":{"position":{"x":873.6,"y":332},"parameters":{"Attributes":{"TenDigitPhoneNumber":{"useDynamic":true}}},"dynamicParams":["TenDigitPhoneNumber"]},"5700863e-795d-4b32-8f11-573666836e80":{"position":{"x":4984,"y":1004.8}},"82210f61-b25d-4058-8150-51e6dd534de3":{"position":{"x":2768.8,"y":1162.4}},"203d3a89-d76a-4155-bcdf-b2486043eca6":{"position":{"x":2036,"y":160.8}},"9841f7a0-24e7-4649-b468-ab44a00fcb46":{"position":{"x":720.8,"y":554.4},"parameters":{"LambdaFunctionARN":{"displayName":"dev-000-callbackmgmt-read-callback"}},"dynamicMetadata":{}},"fb2471b6-52db-4847-9cb8-474762b090f2":{"position":{"x":1352,"y":964.8},"conditionMetadata":[{"id":"cd7ae94e-0d69-4c7f-9197-34344d08f9f4","value":"1"},{"id":"c1720575-55e0-47cf-862d-646516484920","value":"2"}]},"488f95f6-134a-4b8d-9a7b-d6736dee30e0":{"position":{"x":974.4,"y":642.4},"parameters":{"Attributes":{"CallBackStatus":{"useDynamic":true},"NextContactId":{"useDynamic":true}}},"dynamicParams":["CallBackStatus","NextContactId"]},"d785d333-ead8-4446-ba62-fa28d8a6602d":{"position":{"x":820,"y":80.8},"parameters":{"LambdaFunctionARN":{"displayName":"dev-000-callbackmgmt-get-10-digit-phone"},"LambdaInvocationAttributes":{"enteredPhoneNumber":{"useDynamic":true}}},"dynamicMetadata":{"enteredPhoneNumber":true}},"247d9c40-5aa3-4084-9d51-80675d085a25":{"position":{"x":312.8,"y":69.6}},"433f02a8-f2e9-4865-ac06-8759b85da7ea":{"position":{"x":68,"y":944}},"864a0809-01ea-4eea-ab4c-157623f51247":{"position":{"x":560.8,"y":178.4},"parameters":{"Attributes":{"CallbackNumber":{"useDynamic":true},"ContactId":{"useDynamic":true},"QueueName":{"useDynamic":true}}},"dynamicParams":["CallbackNumber","ContactId","QueueName"]},"f5c57f96-5b32-42a2-a697-9a9a0b3f6ab4":{"position":{"x":70.4,"y":184},"dynamicParams":[]},"982af99a-fa9d-4aca-b5be-e779e660a085":{"position":{"x":65.6,"y":473.6},"parameters":{"QueueId":{"displayName":"BasicQueue"}},"queue":{"text":"BasicQueue"}},"591bdb12-069d-46ab-89b7-2be41a3beb2e":{"position":{"x":388.8,"y":528.8},"conditionMetadata":[],"countryCodePrefix":"+1"},"27471579-9a68-43d0-8387-9a438e3128f0":{"position":{"x":1334.4,"y":740}},"11b3e7b1-dcad-43d2-816e-ef57ddddb010":{"position":{"x":1640,"y":752}},"972f8e58-bac7-4c89-9cbc-84285721d1d0":{"position":{"x":1760,"y":235.2},"parameters":{"Attributes":{"callbackNumber":{"useDynamic":true}}},"dynamicParams":["callbackNumber"]},"71234e84-11c2-4b31-b82b-582627664ec9":{"position":{"x":720.8,"y":882.4},"conditions":[],"conditionMetadata":[{"id":"24fa6a67-ae9d-4b7e-b7ab-e34120462ca3","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"PENDING"}]},"cb23b1f6-bb16-43a7-a4f9-d2360c394580":{"position":{"x":645.6,"y":1433.6}},"74fbac6a-9ea9-4431-8bc9-df47a69239a3":{"position":{"x":1265.6,"y":140.8}},"49953fa2-6051-4997-927a-706b28ee112e":{"position":{"x":1374.4,"y":322.4},"conditionMetadata":[{"id":"62ff0a9f-ec6b-470f-a575-d35e4efe2f15","value":"1"},{"id":"c91e2750-3182-4e0a-b8d4-01fcc52adaaf","value":"2"}]},"d862d0c0-f7d3-4311-bdb6-1eb26100db67":{"position":{"x":3090.4,"y":108},"dynamicMetadata":{}},"3470a652-a774-4ee4-948b-faac6a31c38b":{"position":{"x":3446.4,"y":74.4},"parameters":{"Attributes":{"cc_CallbackNumber":{"useDynamic":true},"CallBackStatusDT":{"useDynamic":true}}},"dynamicParams":["cc_CallbackNumber","CallBackStatusDT"]},"73886ebc-11e0-4b24-9618-cae0a1635d8d":{"position":{"x":3912,"y":1089.6}},"4ef4e558-676d-4c77-b067-394085abee47":{"position":{"x":5193.6,"y":689.6}},"9b8bcc5d-450b-4360-b594-3daa0c875d5a":{"position":{"x":3840.8,"y":324},"parameters":{"EventHooks":{"AgentWhisper":{"displayName":"cbAgentCallBackWhisper"}}},"contactFlow":{"text":"cbAgentCallBackWhisper","id":"arn:aws:connect:us-east-1:000000000000:instance/bf207dfc-22d2-48a0-984d-4f182b5a7295/contact-flow/85a80d21-87ee-42b0-9e23-633c46582e6b"},"customerOrAgent":false},"57c2c1c9-2b1b-4aff-a774-373c0084bfbb":{"position":{"x":4616,"y":931.2}},"951225bc-033b-468f-84e0-7038c2d021d0":{"position":{"x":4828,"y":575.2},"parameters":{"LambdaFunctionARN":{"displayName":"dev-000-callbackmgmt-write-callback"}},"dynamicMetadata":{}},"6ef6155a-30c8-4622-8a21-5629722f72f4":{"position":{"x":4175.2,"y":327.2},"parameters":{"EventHooks":{"CustomerRemaining":{"displayName":"cbDisconnectflow"}}},"contactFlow":{"text":"cbDisconnectflow","id":"arn:aws:connect:us-east-1:000000000000:instance/bf207dfc-22d2-48a0-984d-4f182b5a7295/contact-flow/5b85bdf6-1474-42c1-8b50-5ffd7c365340"}},"987e77c4-0fc6-46df-908c-d3df6f745366":{"position":{"x":4372,"y":608.8}}},"Annotations":[],"name":"cbSetCallBack","description":"","type":"contactFlow","status":"published","hash":{}},"Actions":[{"Parameters":{"Text":"Your Callback will be processed as requested."},"Identifier":"1126138c-8f58-430a-8a47-cd69238e0b12","Type":"MessageParticipant","Transitions":{"NextAction":"f793b110-8689-44e1-9bd3-1c82e2739627"}},{"Parameters":{"Text":"Thank you for calling. Goodbye"},"Identifier":"f793b110-8689-44e1-9bd3-1c82e2739627","Type":"MessageParticipant","Transitions":{"NextAction":"b9e8e8c7-c584-4278-adc3-cba473c42dba"}},{"Parameters":{},"Identifier":"b9e8e8c7-c584-4278-adc3-cba473c42dba","Type":"DisconnectParticipant","Transitions":{}},{"Parameters":{"LambdaFunctionARN":"arn:aws:lambda:us-east-1:000000000000:function:dev-000-callbackmgmt-get-current-time","InvocationTimeLimitSeconds":"8","ResponseValidation":{"ResponseType":"STRING_MAP"}},"Identifier":"6a5fd37f-c0d6-46d2-a706-61b194702f39","Type":"InvokeLambdaFunction","Transitions":{"NextAction":"6451f55d-9b94-4e7c-8fe8-db96c6e99227","Errors":[{"NextAction":"6451f55d-9b94-4e7c-8fe8-db96c6e99227","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Attributes":{"CallBackStatus":"CANCELLED","cbCancelledByCustomer":"yes","cbCancelledDate":"$.External.DateTime","CallBackStatusDT":"$.External.DateTime"},"TargetContact":"Current"},"Identifier":"6451f55d-9b94-4e7c-8fe8-db96c6e99227","Type":"UpdateContactAttributes","Transitions":{"NextAction":"22bc07f9-2c8d-4667-931e-3f65ce900685","Errors":[{"NextAction":"22bc07f9-2c8d-4667-931e-3f65ce900685","ErrorType":"NoMatchingError"}]}},{"Parameters":{"LambdaFunctionARN":"arn:aws:lambda:us-east-1:000000000000:function:dev-000-callbackmgmt-update-callback","InvocationTimeLimitSeconds":"8","ResponseValidation":{"ResponseType":"STRING_MAP"}},"Identifier":"22bc07f9-2c8d-4667-931e-3f65ce900685","Type":"InvokeLambdaFunction","Transitions":{"NextAction":"8341a4e1-6821-4941-ad5b-f78806cee85c","Errors":[{"NextAction":"8341a4e1-6821-4941-ad5b-f78806cee85c","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Attributes":{"CallBackCancelHandleBy":"Agent"},"TargetContact":"Current"},"Identifier":"0b0a6cdb-ffb9-42fd-a7a1-17764ee1eebb","Type":"UpdateContactAttributes","Transitions":{"NextAction":"63136230-1f72-4fd3-add2-ee9a25cbc55f","Errors":[{"NextAction":"63136230-1f72-4fd3-add2-ee9a25cbc55f","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Attributes":{"CallBackCancelHandleBy":"API"},"TargetContact":"Current"},"Identifier":"99161399-9635-4896-a1d0-c3d0878d477e","Type":"UpdateContactAttributes","Transitions":{"NextAction":"63136230-1f72-4fd3-add2-ee9a25cbc55f","Errors":[{"NextAction":"63136230-1f72-4fd3-add2-ee9a25cbc55f","ErrorType":"NoMatchingError"}]}},{"Parameters":{"LambdaFunctionARN":"arn:aws:lambda:us-east-1:000000000000:function:dev-000-callbackmgmt-stop-contact","InvocationTimeLimitSeconds":"8","ResponseValidation":{"ResponseType":"STRING_MAP"}},"Identifier":"8341a4e1-6821-4941-ad5b-f78806cee85c","Type":"InvokeLambdaFunction","Transitions":{"NextAction":"af45db43-5225-404f-8489-72affce5c413","Errors":[{"NextAction":"af45db43-5225-404f-8489-72affce5c413","ErrorType":"NoMatchingError"}]}},{"Parameters":{"ComparisonValue":"$.External.statusCode"},"Identifier":"af45db43-5225-404f-8489-72affce5c413","Type":"Compare","Transitions":{"NextAction":"0b0a6cdb-ffb9-42fd-a7a1-17764ee1eebb","Conditions":[{"NextAction":"99161399-9635-4896-a1d0-c3d0878d477e","Condition":{"Operator":"Equals","Operands":["200"]}}],"Errors":[{"NextAction":"0b0a6cdb-ffb9-42fd-a7a1-17764ee1eebb","ErrorType":"NoMatchingCondition"}]}},{"Parameters":{"Text":"I'm sorry. I did not to get all the numbers."},"Identifier":"8973c172-5315-44cf-b00d-a65972c7e0b8","Type":"MessageParticipant","Transitions":{"NextAction":"fb2471b6-52db-4847-9cb8-474762b090f2"}},{"Parameters":{"Text":"Your request for callback has been successfully canceled."},"Identifier":"63136230-1f72-4fd3-add2-ee9a25cbc55f","Type":"MessageParticipant","Transitions":{"NextAction":"73886ebc-11e0-4b24-9618-cae0a1635d8d"}},{"Parameters":{"LoopCount":"1"},"Identifier":"201fe983-f15c-4c33-be09-62c1c30d27a3","Type":"Loop","Transitions":{"NextAction":"73886ebc-11e0-4b24-9618-cae0a1635d8d","Conditions":[{"NextAction":"8973c172-5315-44cf-b00d-a65972c7e0b8","Condition":{"Operator":"Equals","Operands":["ContinueLooping"]}},{"NextAction":"73886ebc-11e0-4b24-9618-cae0a1635d8d","Condition":{"Operator":"Equals","Operands":["DoneLooping"]}}]}},{"Parameters":{"Attributes":{"TenDigitPhoneNumber":"$.External.TenDigitPhoneNumber"},"TargetContact":"Current"},"Identifier":"bc619004-b383-41d0-aadb-4380fe768d95","Type":"UpdateContactAttributes","Transitions":{"NextAction":"9841f7a0-24e7-4649-b468-ab44a00fcb46","Errors":[{"NextAction":"9841f7a0-24e7-4649-b468-ab44a00fcb46","ErrorType":"NoMatchingError"}]}},{"Parameters":{},"Identifier":"5700863e-795d-4b32-8f11-573666836e80","Type":"DisconnectParticipant","Transitions":{}},{"Parameters":{"Text":"I'm sorry, a valid 10 digit phone number is required. Please hold and we will transfer you to a specialist."},"Identifier":"82210f61-b25d-4058-8150-51e6dd534de3","Type":"MessageParticipant","Transitions":{"NextAction":"73886ebc-11e0-4b24-9618-cae0a1635d8d"}},{"Parameters":{"CallbackNumber":"$.Attributes.callbackNumber"},"Identifier":"203d3a89-d76a-4155-bcdf-b2486043eca6","Type":"UpdateContactCallbackNumber","Transitions":{"NextAction":"d862d0c0-f7d3-4311-bdb6-1eb26100db67","Errors":[{"NextAction":"82210f61-b25d-4058-8150-51e6dd534de3","ErrorType":"InvalidCallbackNumber"},{"NextAction":"82210f61-b25d-4058-8150-51e6dd534de3","ErrorType":"CallbackNumberNotDialable"}]}},{"Parameters":{"LambdaFunctionARN":"arn:aws:lambda:us-east-1:000000000000:function:dev-000-callbackmgmt-read-callback","InvocationTimeLimitSeconds":"8","ResponseValidation":{"ResponseType":"STRING_MAP"}},"Identifier":"9841f7a0-24e7-4649-b468-ab44a00fcb46","Type":"InvokeLambdaFunction","Transitions":{"NextAction":"488f95f6-134a-4b8d-9a7b-d6736dee30e0","Errors":[{"NextAction":"488f95f6-134a-4b8d-9a7b-d6736dee30e0","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Text":"Press 1 to cancel your pending callback request or press 2 to wait for your callback request to be delivered.","StoreInput":"False","InputTimeLimitSeconds":"5"},"Identifier":"fb2471b6-52db-4847-9cb8-474762b090f2","Type":"GetParticipantInput","Transitions":{"NextAction":"201fe983-f15c-4c33-be09-62c1c30d27a3","Conditions":[{"NextAction":"6a5fd37f-c0d6-46d2-a706-61b194702f39","Condition":{"Operator":"Equals","Operands":["1"]}},{"NextAction":"1126138c-8f58-430a-8a47-cd69238e0b12","Condition":{"Operator":"Equals","Operands":["2"]}}],"Errors":[{"NextAction":"201fe983-f15c-4c33-be09-62c1c30d27a3","ErrorType":"InputTimeLimitExceeded"},{"NextAction":"201fe983-f15c-4c33-be09-62c1c30d27a3","ErrorType":"NoMatchingCondition"},{"NextAction":"201fe983-f15c-4c33-be09-62c1c30d27a3","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Attributes":{"CallBackStatus":"$.External.CallBackStatus","NextContactId":"$.External.NextContactId"},"TargetContact":"Current"},"Identifier":"488f95f6-134a-4b8d-9a7b-d6736dee30e0","Type":"UpdateContactAttributes","Transitions":{"NextAction":"71234e84-11c2-4b31-b82b-582627664ec9","Errors":[{"NextAction":"71234e84-11c2-4b31-b82b-582627664ec9","ErrorType":"NoMatchingError"}]}},{"Parameters":{"LambdaFunctionARN":"arn:aws:lambda:us-east-1:000000000000:function:dev-000-callbackmgmt-get-10-digit-phone","InvocationTimeLimitSeconds":"8","LambdaInvocationAttributes":{"enteredPhoneNumber":"$.StoredCustomerInput"},"ResponseValidation":{"ResponseType":"STRING_MAP"}},"Identifier":"d785d333-ead8-4446-ba62-fa28d8a6602d","Type":"InvokeLambdaFunction","Transitions":{"NextAction":"bc619004-b383-41d0-aadb-4380fe768d95","Errors":[{"NextAction":"bc619004-b383-41d0-aadb-4380fe768d95","ErrorType":"NoMatchingError"}]}},{"Parameters":{"FlowLoggingBehavior":"Enabled"},"Identifier":"247d9c40-5aa3-4084-9d51-80675d085a25","Type":"UpdateFlowLoggingBehavior","Transitions":{"NextAction":"f5c57f96-5b32-42a2-a697-9a9a0b3f6ab4"}},{"Parameters":{"Text":"I'm sorry. I did not to get all the numbers."},"Identifier":"433f02a8-f2e9-4865-ac06-8759b85da7ea","Type":"MessageParticipant","Transitions":{"NextAction":"591bdb12-069d-46ab-89b7-2be41a3beb2e"}},{"Parameters":{"Attributes":{"CallbackNumber":"$.StoredCustomerInput","ContactId":"$.ContactId","QueueName":"$.Queue.Name"},"TargetContact":"Current"},"Identifier":"864a0809-01ea-4eea-ab4c-157623f51247","Type":"UpdateContactAttributes","Transitions":{"NextAction":"d785d333-ead8-4446-ba62-fa28d8a6602d","Errors":[{"NextAction":"d785d333-ead8-4446-ba62-fa28d8a6602d","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Attributes":{"_entry":"CallBack"},"TargetContact":"Current"},"Identifier":"f5c57f96-5b32-42a2-a697-9a9a0b3f6ab4","Type":"UpdateContactAttributes","Transitions":{"NextAction":"982af99a-fa9d-4aca-b5be-e779e660a085","Errors":[{"NextAction":"982af99a-fa9d-4aca-b5be-e779e660a085","ErrorType":"NoMatchingError"}]}},{"Parameters":{"QueueId":"arn:aws:connect:us-east-1:000000000000:instance/bf207dfc-22d2-48a0-984d-4f182b5a7295/queue/0525088b-ca2c-451a-9051-a1707924bebf"},"Identifier":"982af99a-fa9d-4aca-b5be-e779e660a085","Type":"UpdateContactTargetQueue","Transitions":{"NextAction":"591bdb12-069d-46ab-89b7-2be41a3beb2e","Errors":[{"NextAction":"591bdb12-069d-46ab-89b7-2be41a3beb2e","ErrorType":"NoMatchingError"}]}},{"Parameters":{"StoreInput":"True","InputTimeLimitSeconds":"6","Text":"Please enter your 10 digit phone beginning with the area code.","InputValidation":{"PhoneNumberValidation":{"NumberFormat":"Local","CountryCode":"US"}}},"Identifier":"591bdb12-069d-46ab-89b7-2be41a3beb2e","Type":"GetParticipantInput","Transitions":{"NextAction":"864a0809-01ea-4eea-ab4c-157623f51247","Errors":[{"NextAction":"cb23b1f6-bb16-43a7-a4f9-d2360c394580","ErrorType":"NoMatchingError"},{"NextAction":"cb23b1f6-bb16-43a7-a4f9-d2360c394580","ErrorType":"InvalidPhoneNumber"}]}},{"Parameters":{"Text":"I'm sorry. I did not to get all the numbers."},"Identifier":"27471579-9a68-43d0-8387-9a438e3128f0","Type":"MessageParticipant","Transitions":{"NextAction":"74fbac6a-9ea9-4431-8bc9-df47a69239a3"}},{"Parameters":{"LoopCount":"1"},"Identifier":"11b3e7b1-dcad-43d2-816e-ef57ddddb010","Type":"Loop","Transitions":{"NextAction":"82210f61-b25d-4058-8150-51e6dd534de3","Conditions":[{"NextAction":"27471579-9a68-43d0-8387-9a438e3128f0","Condition":{"Operator":"Equals","Operands":["ContinueLooping"]}},{"NextAction":"82210f61-b25d-4058-8150-51e6dd534de3","Condition":{"Operator":"Equals","Operands":["DoneLooping"]}}]}},{"Parameters":{"Attributes":{"callbackNumber":"$.Attributes.CallbackNumber"},"TargetContact":"Current"},"Identifier":"972f8e58-bac7-4c89-9cbc-84285721d1d0","Type":"UpdateContactAttributes","Transitions":{"NextAction":"203d3a89-d76a-4155-bcdf-b2486043eca6","Errors":[{"NextAction":"203d3a89-d76a-4155-bcdf-b2486043eca6","ErrorType":"NoMatchingError"}]}},{"Parameters":{"ComparisonValue":"$.Attributes.CallBackStatus"},"Identifier":"71234e84-11c2-4b31-b82b-582627664ec9","Type":"Compare","Transitions":{"NextAction":"74fbac6a-9ea9-4431-8bc9-df47a69239a3","Conditions":[{"NextAction":"fb2471b6-52db-4847-9cb8-474762b090f2","Condition":{"Operator":"Equals","Operands":["PENDING"]}}],"Errors":[{"NextAction":"74fbac6a-9ea9-4431-8bc9-df47a69239a3","ErrorType":"NoMatchingCondition"}]}},{"Parameters":{"LoopCount":"1"},"Identifier":"cb23b1f6-bb16-43a7-a4f9-d2360c394580","Type":"Loop","Transitions":{"NextAction":"82210f61-b25d-4058-8150-51e6dd534de3","Conditions":[{"NextAction":"433f02a8-f2e9-4865-ac06-8759b85da7ea","Condition":{"Operator":"Equals","Operands":["ContinueLooping"]}},{"NextAction":"82210f61-b25d-4058-8150-51e6dd534de3","Condition":{"Operator":"Equals","Operands":["DoneLooping"]}}]}},{"Parameters":{"SSML":"<speak>You entered.<say-as interpret-as=\"telephone\">$.Attributes.TenDigitPhoneNumber </say-as> </speak>"},"Identifier":"74fbac6a-9ea9-4431-8bc9-df47a69239a3","Type":"MessageParticipant","Transitions":{"NextAction":"49953fa2-6051-4997-927a-706b28ee112e"}},{"Parameters":{"Text":"If it is correct, press 1. If not press 2.","StoreInput":"False","InputTimeLimitSeconds":"5"},"Identifier":"49953fa2-6051-4997-927a-706b28ee112e","Type":"GetParticipantInput","Transitions":{"NextAction":"11b3e7b1-dcad-43d2-816e-ef57ddddb010","Conditions":[{"NextAction":"972f8e58-bac7-4c89-9cbc-84285721d1d0","Condition":{"Operator":"Equals","Operands":["1"]}},{"NextAction":"cb23b1f6-bb16-43a7-a4f9-d2360c394580","Condition":{"Operator":"Equals","Operands":["2"]}}],"Errors":[{"NextAction":"11b3e7b1-dcad-43d2-816e-ef57ddddb010","ErrorType":"InputTimeLimitExceeded"},{"NextAction":"11b3e7b1-dcad-43d2-816e-ef57ddddb010","ErrorType":"NoMatchingCondition"},{"NextAction":"11b3e7b1-dcad-43d2-816e-ef57ddddb010","ErrorType":"NoMatchingError"}]}},{"Parameters":{"LambdaFunctionARN":"arn:aws:lambda:us-east-1:149231149950:function:lambda-001-dev-getDateTime","InvocationTimeLimitSeconds":"8","ResponseValidation":{"ResponseType":"STRING_MAP"}},"Identifier":"d862d0c0-f7d3-4311-bdb6-1eb26100db67","Type":"InvokeLambdaFunction","Transitions":{"NextAction":"3470a652-a774-4ee4-948b-faac6a31c38b","Errors":[{"NextAction":"3470a652-a774-4ee4-948b-faac6a31c38b","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Attributes":{"cc_CallbackNumber":"$.CallbackNumber","cc_InitiationMethod":"QUEUE_CALLBACK","CallBackStatus":"PENDING","CallBackStatusDT":"$.External.DateTime","ContactFlowName":"cbSetCallBack"},"TargetContact":"Current"},"Identifier":"3470a652-a774-4ee4-948b-faac6a31c38b","Type":"UpdateContactAttributes","Transitions":{"NextAction":"9b8bcc5d-450b-4360-b594-3daa0c875d5a","Errors":[{"NextAction":"9b8bcc5d-450b-4360-b594-3daa0c875d5a","ErrorType":"NoMatchingError"}]}},{"Parameters":{},"Identifier":"73886ebc-11e0-4b24-9618-cae0a1635d8d","Type":"TransferContactToQueue","Transitions":{"NextAction":"5700863e-795d-4b32-8f11-573666836e80","Errors":[{"NextAction":"5700863e-795d-4b32-8f11-573666836e80","ErrorType":"QueueAtCapacity"},{"NextAction":"5700863e-795d-4b32-8f11-573666836e80","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Text":"Your request for a callback has been confirmed. Thank you for calling, Goodbye."},"Identifier":"4ef4e558-676d-4c77-b067-394085abee47","Type":"MessageParticipant","Transitions":{"NextAction":"5700863e-795d-4b32-8f11-573666836e80"}},{"Parameters":{"EventHooks":{"AgentWhisper":"arn:aws:connect:us-east-1:000000000000:instance/bf207dfc-22d2-48a0-984d-4f182b5a7295/contact-flow/85a80d21-87ee-42b0-9e23-633c46582e6b"}},"Identifier":"9b8bcc5d-450b-4360-b594-3daa0c875d5a","Type":"UpdateContactEventHooks","Transitions":{"NextAction":"6ef6155a-30c8-4622-8a21-5629722f72f4","Errors":[{"NextAction":"6ef6155a-30c8-4622-8a21-5629722f72f4","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Text":"We are sorry but we are having technical issues. A specialist will be with you as soon as one is available."},"Identifier":"57c2c1c9-2b1b-4aff-a774-373c0084bfbb","Type":"MessageParticipant","Transitions":{"NextAction":"73886ebc-11e0-4b24-9618-cae0a1635d8d"}},{"Parameters":{"LambdaFunctionARN":"arn:aws:lambda:us-east-1:000000000000:function:dev-000-callbackmgmt-write-callback","InvocationTimeLimitSeconds":"8","ResponseValidation":{"ResponseType":"STRING_MAP"}},"Identifier":"951225bc-033b-468f-84e0-7038c2d021d0","Type":"InvokeLambdaFunction","Transitions":{"NextAction":"4ef4e558-676d-4c77-b067-394085abee47","Errors":[{"NextAction":"4ef4e558-676d-4c77-b067-394085abee47","ErrorType":"NoMatchingError"}]}},{"Parameters":{"EventHooks":{"CustomerRemaining":"arn:aws:connect:us-east-1:000000000000:instance/bf207dfc-22d2-48a0-984d-4f182b5a7295/contact-flow/5b85bdf6-1474-42c1-8b50-5ffd7c365340"}},"Identifier":"6ef6155a-30c8-4622-8a21-5629722f72f4","Type":"UpdateContactEventHooks","Transitions":{"NextAction":"987e77c4-0fc6-46df-908c-d3df6f745366","Errors":[{"NextAction":"987e77c4-0fc6-46df-908c-d3df6f745366","ErrorType":"NoMatchingError"}]}},{"Parameters":{"RetryDelaySeconds":"30","InitialCallDelaySeconds":"1","MaximumConnectionAttempts":"0"},"Identifier":"987e77c4-0fc6-46df-908c-d3df6f745366","Type":"CreateCallbackContact","Transitions":{"NextAction":"951225bc-033b-468f-84e0-7038c2d021d0","Errors":[{"NextAction":"57c2c1c9-2b1b-4aff-a774-373c0084bfbb","ErrorType":"NoMatchingError"}]}}]}