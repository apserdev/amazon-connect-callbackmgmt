{"Version":"2019-10-30","StartAction":"c022d2c3-ef3d-4df5-8708-f0b57a1a90bc","Metadata":{"entryPointPosition":{"x":14.4,"y":14.4},"ActionMetadata":{"c022d2c3-ef3d-4df5-8708-f0b57a1a90bc":{"position":{"x":148,"y":49.6}},"e671feb8-bd2a-44eb-8257-225918f54fcb":{"position":{"x":153.6,"y":252},"dynamicParams":[]},"1acaf794-a551-472d-9188-b2d851c61ed5":{"position":{"x":161.6,"y":506.4},"overrideConsoleVoice":false},"32a51501-73b5-4f71-88fa-e63ed03bc0a6":{"position":{"x":444,"y":128},"parameters":{"Attributes":{"CallbackNumber":{"useDynamic":true}}},"dynamicParams":["CallbackNumber"]},"Timestamp":{"position":{"x":479.2,"y":395.2},"isFriendlyName":true,"parameters":{"LambdaFunctionARN":{"displayName":"alpha-001-callbackmgmt-get-current-time"}},"dynamicMetadata":{}},"524ea6da-cb59-4ff9-8450-30ad2cbf841a":{"position":{"x":1053.6,"y":128},"parameters":{"Attributes":{"CallBackStatusDT":{"useDynamic":true},"ContactId":{"useDynamic":true}}},"dynamicParams":["CallBackStatusDT","ContactId"]},"741f5543-08f3-4926-ae90-e7859134a78a":{"position":{"x":761.6,"y":132},"conditionMetadata":[{"id":"c00d37b8-3755-4716-aebd-bf415c6afa63","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"PENDING"},{"id":"503dcda1-38c9-4d38-8d4c-eb2a4d871236","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"CANCELLED"}]},"Update status to COMPLETED":{"position":{"x":1325.6,"y":120.8},"isFriendlyName":true,"parameters":{"LambdaFunctionARN":{"displayName":"alpha-001-callbackmgmt-update-callback"}},"dynamicMetadata":{}},"7e89227a-8e96-459d-b243-379815f05ecc":{"position":{"x":1620,"y":368}},"fe0cff31-99e2-4b4a-b1ec-ff7baa711d7b":{"position":{"x":1644,"y":580.8}}},"Annotations":[],"name":"cfOutboundWhisperflow","description":"Default flow for outbound calls.","type":"outboundWhisper","status":"published","hash":{}},"Actions":[{"Parameters":{"FlowLoggingBehavior":"Enabled"},"Identifier":"c022d2c3-ef3d-4df5-8708-f0b57a1a90bc","Type":"UpdateFlowLoggingBehavior","Transitions":{"NextAction":"e671feb8-bd2a-44eb-8257-225918f54fcb"}},{"Parameters":{"Attributes":{"ContactFlowName":"cbOutboundWhisperflow"},"TargetContact":"Current"},"Identifier":"e671feb8-bd2a-44eb-8257-225918f54fcb","Type":"UpdateContactAttributes","Transitions":{"NextAction":"1acaf794-a551-472d-9188-b2d851c61ed5","Errors":[{"NextAction":"1acaf794-a551-472d-9188-b2d851c61ed5","ErrorType":"NoMatchingError"}]}},{"Parameters":{"TextToSpeechVoice":"Joanna"},"Identifier":"1acaf794-a551-472d-9188-b2d851c61ed5","Type":"UpdateContactTextToSpeechVoice","Transitions":{"NextAction":"32a51501-73b5-4f71-88fa-e63ed03bc0a6"}},{"Parameters":{"Attributes":{"CallbackNumber":"$.CallbackNumber"},"TargetContact":"Current"},"Identifier":"32a51501-73b5-4f71-88fa-e63ed03bc0a6","Type":"UpdateContactAttributes","Transitions":{"NextAction":"Timestamp","Errors":[{"NextAction":"Timestamp","ErrorType":"NoMatchingError"}]}},{"Parameters":{"LambdaFunctionARN":"arn:aws:lambda:us-east-1:055037574009:function:alpha-001-callbackmgmt-get-current-time","InvocationTimeLimitSeconds":"8","ResponseValidation":{"ResponseType":"STRING_MAP"}},"Identifier":"Timestamp","Type":"InvokeLambdaFunction","Transitions":{"NextAction":"741f5543-08f3-4926-ae90-e7859134a78a","Errors":[{"NextAction":"741f5543-08f3-4926-ae90-e7859134a78a","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Attributes":{"CallBackStatus":"COMPLETED","CallBackStatusDT":"$.External.DateTime","ContactId":"$.ContactId"},"TargetContact":"Current"},"Identifier":"524ea6da-cb59-4ff9-8450-30ad2cbf841a","Type":"UpdateContactAttributes","Transitions":{"NextAction":"Update status to COMPLETED","Errors":[{"NextAction":"Update status to COMPLETED","ErrorType":"NoMatchingError"}]}},{"Parameters":{"ComparisonValue":"$.Attributes.CallBackStatus"},"Identifier":"741f5543-08f3-4926-ae90-e7859134a78a","Type":"Compare","Transitions":{"NextAction":"7e89227a-8e96-459d-b243-379815f05ecc","Conditions":[{"NextAction":"524ea6da-cb59-4ff9-8450-30ad2cbf841a","Condition":{"Operator":"Equals","Operands":["PENDING"]}},{"NextAction":"524ea6da-cb59-4ff9-8450-30ad2cbf841a","Condition":{"Operator":"Equals","Operands":["CANCELLED"]}}],"Errors":[{"NextAction":"7e89227a-8e96-459d-b243-379815f05ecc","ErrorType":"NoMatchingCondition"}]}},{"Parameters":{"LambdaFunctionARN":"arn:aws:lambda:us-east-1:055037574009:function:alpha-001-callbackmgmt-update-callback","InvocationTimeLimitSeconds":"8","ResponseValidation":{"ResponseType":"STRING_MAP"}},"Identifier":"Update status to COMPLETED","Type":"InvokeLambdaFunction","Transitions":{"NextAction":"7e89227a-8e96-459d-b243-379815f05ecc","Errors":[{"NextAction":"7e89227a-8e96-459d-b243-379815f05ecc","ErrorType":"NoMatchingError"}]}},{"Parameters":{"SSML":"<speak>Hello, This is your requested call. This call may be monitored or recorded. </speak>"},"Identifier":"7e89227a-8e96-459d-b243-379815f05ecc","Type":"MessageParticipant","Transitions":{"NextAction":"fe0cff31-99e2-4b4a-b1ec-ff7baa711d7b"}},{"Parameters":{},"Identifier":"fe0cff31-99e2-4b4a-b1ec-ff7baa711d7b","Type":"EndFlowExecution","Transitions":{}}]}