{"Version":"2019-10-30","StartAction":"247d9c40-5aa3-4084-9d51-80675d085a25","Metadata":{"entryPointPosition":{"x":14.4,"y":14.4},"ActionMetadata":{"982af99a-fa9d-4aca-b5be-e779e660a085":{"position":{"x":65.6,"y":473.6},"parameters":{"QueueId":{"displayName":"BasicQueue"}},"queue":{"text":"BasicQueue"}},"247d9c40-5aa3-4084-9d51-80675d085a25":{"position":{"x":197.6,"y":12}},"f5c57f96-5b32-42a2-a697-9a9a0b3f6ab4":{"position":{"x":203.2,"y":204.8},"dynamicParams":[]},"864a0809-01ea-4eea-ab4c-157623f51247":{"position":{"x":564,"y":-4},"parameters":{"Attributes":{"CallbackNumber":{"useDynamic":true},"ContactId":{"useDynamic":true},"QueueName":{"useDynamic":true}}},"dynamicParams":["CallbackNumber","ContactId","QueueName"]},"10-digit formatted":{"position":{"x":892,"y":-15.2},"isFriendlyName":true,"parameters":{"LambdaFunctionARN":{"displayName":"alpha-001-callbackmgmt-get-10-digit-phone"},"LambdaInvocationAttributes":{"enteredPhoneNumber":{"useDynamic":true}}},"dynamicMetadata":{"enteredPhoneNumber":true}},"bc619004-b383-41d0-aadb-4380fe768d95":{"position":{"x":612.8,"y":231.2},"parameters":{"Attributes":{"TenDigitPhoneNumber":{"useDynamic":true}}},"dynamicParams":["TenDigitPhoneNumber"]},"Query Record":{"position":{"x":911.2,"y":228},"isFriendlyName":true,"parameters":{"LambdaFunctionARN":{"displayName":"alpha-001-callbackmgmt-read-callback"}},"dynamicMetadata":{}},"488f95f6-134a-4b8d-9a7b-d6736dee30e0":{"position":{"x":614.4,"y":480.8},"parameters":{"Attributes":{"CallBackStatus":{"useDynamic":true},"NextContactId":{"useDynamic":true}}},"dynamicParams":["CallBackStatus","NextContactId"]},"5700863e-795d-4b32-8f11-573666836e80":{"position":{"x":4726.4,"y":964.8}},"57c2c1c9-2b1b-4aff-a774-373c0084bfbb":{"position":{"x":4049.6,"y":561.6}},"TimeStamp":{"position":{"x":2816.8,"y":130.4},"isFriendlyName":true,"parameters":{"LambdaFunctionARN":{"displayName":"alpha-001-callbackmgmt-get-current-time"}},"dynamicMetadata":{}},"972f8e58-bac7-4c89-9cbc-84285721d1d0":{"position":{"x":1971.2,"y":180.8},"parameters":{"Attributes":{"callbackNumber":{"useDynamic":true}}},"dynamicParams":["callbackNumber"]},"74fbac6a-9ea9-4431-8bc9-df47a69239a3":{"position":{"x":1337.6,"y":368}},"27471579-9a68-43d0-8387-9a438e3128f0":{"position":{"x":1366.4,"y":607.2}},"71234e84-11c2-4b31-b82b-582627664ec9":{"position":{"x":924,"y":493.6},"conditions":[],"conditionMetadata":[{"id":"5eb2609e-b884-4832-a0e1-8478792a3fea","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"PENDING"}]},"8973c172-5315-44cf-b00d-a65972c7e0b8":{"position":{"x":1077.6,"y":1396}},"201fe983-f15c-4c33-be09-62c1c30d27a3":{"position":{"x":1530.4,"y":1368.8}},"b9e8e8c7-c584-4278-adc3-cba473c42dba":{"position":{"x":2436.8,"y":1074.4}},"49953fa2-6051-4997-927a-706b28ee112e":{"position":{"x":1585.6,"y":232.8},"conditionMetadata":[{"id":"d298f263-3ae5-419d-82b0-02dddefaefd1","value":"1"},{"id":"4b3b4b6f-9e59-4184-a766-b198ff3e0727","value":"2"}]},"591bdb12-069d-46ab-89b7-2be41a3beb2e":{"position":{"x":323.2,"y":730.4},"conditionMetadata":[],"countryCodePrefix":"+1"},"433f02a8-f2e9-4865-ac06-8759b85da7ea":{"position":{"x":72.8,"y":1156}},"203d3a89-d76a-4155-bcdf-b2486043eca6":{"position":{"x":2383.2,"y":164}},"11b3e7b1-dcad-43d2-816e-ef57ddddb010":{"position":{"x":1985.6,"y":579.2}},"cb23b1f6-bb16-43a7-a4f9-d2360c394580":{"position":{"x":600.8,"y":1139.2}},"82210f61-b25d-4058-8150-51e6dd534de3":{"position":{"x":2800,"y":1175.2}},"fb2471b6-52db-4847-9cb8-474762b090f2":{"position":{"x":1308.8,"y":924.8},"conditionMetadata":[{"id":"d2949209-ae66-421a-8c6d-b7925282c33a","value":"1"},{"id":"356d0f7f-010c-4c18-9bcb-f130d240538a","value":"2"}]},"f793b110-8689-44e1-9bd3-1c82e2739627":{"position":{"x":2100,"y":1062.4}},"1126138c-8f58-430a-8a47-cd69238e0b12":{"position":{"x":1816.8,"y":1064.8}},"Timestamp":{"position":{"x":1812.8,"y":825.6},"isFriendlyName":true,"parameters":{"LambdaFunctionARN":{"displayName":"alpha-001-callbackmgmt-get-current-time"}},"dynamicMetadata":{}},"Remove Callback from queue":{"position":{"x":2820.8,"y":748},"isFriendlyName":true,"parameters":{"LambdaFunctionARN":{"displayName":"alpha-001-callbackmgmt-stop-contact"}},"dynamicMetadata":{}},"6451f55d-9b94-4e7c-8fe8-db96c6e99227":{"position":{"x":2100.8,"y":813.6},"parameters":{"Attributes":{"cbCancelledDate":{"useDynamic":true},"CallBackStatusDT":{"useDynamic":true}}},"dynamicParams":["cbCancelledDate","CallBackStatusDT"]},"Status CANCELLED":{"position":{"x":2419.2,"y":797.6},"isFriendlyName":true,"parameters":{"LambdaFunctionARN":{"displayName":"alpha-001-callbackmgmt-update-callback"}},"dynamicMetadata":{}},"73886ebc-11e0-4b24-9618-cae0a1635d8d":{"position":{"x":4068.8,"y":1126.4}},"0b0a6cdb-ffb9-42fd-a7a1-17764ee1eebb":{"position":{"x":3402.4,"y":903.2},"dynamicParams":[]},"63136230-1f72-4fd3-add2-ee9a25cbc55f":{"position":{"x":3971.2,"y":815.2}},"af45db43-5225-404f-8489-72affce5c413":{"position":{"x":3113.6,"y":740.8},"conditions":[],"conditionMetadata":[{"id":"443f21c5-5b2f-4f66-b7aa-10a95596e15f","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"200"}]},"99161399-9635-4896-a1d0-c3d0878d477e":{"position":{"x":3398.4,"y":683.2},"dynamicParams":[]},"4ef4e558-676d-4c77-b067-394085abee47":{"position":{"x":4380.8,"y":280}},"Create Callback record":{"position":{"x":4050.4,"y":274.4},"isFriendlyName":true,"parameters":{"LambdaFunctionARN":{"displayName":"alpha-001-callbackmgmt-write-callback"}},"dynamicMetadata":{}},"3470a652-a774-4ee4-948b-faac6a31c38b":{"position":{"x":3116.8,"y":120.8},"parameters":{"Attributes":{"cc_CallbackNumber":{"useDynamic":true},"CallBackStatusDT":{"useDynamic":true}}},"dynamicParams":["cc_CallbackNumber","CallBackStatusDT"]},"987e77c4-0fc6-46df-908c-d3df6f745366":{"position":{"x":3701.6,"y":348}},"Agent Whisper flow":{"position":{"x":3389.6,"y":116},"isFriendlyName":true,"parameters":{"EventHooks":{"AgentWhisper":{"displayName":"cbAgentCallBackWhisper"}}},"contactFlow":{"text":"cbAgentCallBackWhisper","id":"arn:aws:connect:us-east-1:953784105530:instance/5cafc98e-41fc-47e3-a3be-e8a5404a0e9d/contact-flow/6500011f-5a75-42cb-a33c-6dfb20b786d9"},"customerOrAgent":false}},"Annotations":[],"name":"cfSetCallBackflow","description":"","type":"contactFlow","status":"published","hash":{}},"Actions":[{"Parameters":{"QueueId":"arn:aws:connect:us-east-1:953784105530:instance/5cafc98e-41fc-47e3-a3be-e8a5404a0e9d/queue/a8161e1b-6b2d-45be-97a1-e40fcccf1c52"},"Identifier":"982af99a-fa9d-4aca-b5be-e779e660a085","Type":"UpdateContactTargetQueue","Transitions":{"NextAction":"591bdb12-069d-46ab-89b7-2be41a3beb2e","Errors":[{"NextAction":"591bdb12-069d-46ab-89b7-2be41a3beb2e","ErrorType":"NoMatchingError"}]}},{"Parameters":{"FlowLoggingBehavior":"Enabled"},"Identifier":"247d9c40-5aa3-4084-9d51-80675d085a25","Type":"UpdateFlowLoggingBehavior","Transitions":{"NextAction":"f5c57f96-5b32-42a2-a697-9a9a0b3f6ab4"}},{"Parameters":{"Attributes":{"_entry":"CallBack"},"TargetContact":"Current"},"Identifier":"f5c57f96-5b32-42a2-a697-9a9a0b3f6ab4","Type":"UpdateContactAttributes","Transitions":{"NextAction":"982af99a-fa9d-4aca-b5be-e779e660a085","Errors":[{"NextAction":"982af99a-fa9d-4aca-b5be-e779e660a085","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Attributes":{"CallbackNumber":"$.StoredCustomerInput","ContactId":"$.ContactId","QueueName":"$.Queue.Name"},"TargetContact":"Current"},"Identifier":"864a0809-01ea-4eea-ab4c-157623f51247","Type":"UpdateContactAttributes","Transitions":{"NextAction":"10-digit formatted","Errors":[{"NextAction":"10-digit formatted","ErrorType":"NoMatchingError"}]}},{"Parameters":{"LambdaFunctionARN":"arn:aws:lambda:us-east-1:055037574009:function:alpha-001-callbackmgmt-get-10-digit-phone","InvocationTimeLimitSeconds":"8","LambdaInvocationAttributes":{"enteredPhoneNumber":"$.StoredCustomerInput"},"ResponseValidation":{"ResponseType":"STRING_MAP"}},"Identifier":"10-digit formatted","Type":"InvokeLambdaFunction","Transitions":{"NextAction":"bc619004-b383-41d0-aadb-4380fe768d95","Errors":[{"NextAction":"bc619004-b383-41d0-aadb-4380fe768d95","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Attributes":{"TenDigitPhoneNumber":"$.External.TenDigitPhoneNumber"},"TargetContact":"Current"},"Identifier":"bc619004-b383-41d0-aadb-4380fe768d95","Type":"UpdateContactAttributes","Transitions":{"NextAction":"Query Record","Errors":[{"NextAction":"Query Record","ErrorType":"NoMatchingError"}]}},{"Parameters":{"LambdaFunctionARN":"arn:aws:lambda:us-east-1:055037574009:function:alpha-001-callbackmgmt-read-callback","InvocationTimeLimitSeconds":"8","ResponseValidation":{"ResponseType":"STRING_MAP"}},"Identifier":"Query Record","Type":"InvokeLambdaFunction","Transitions":{"NextAction":"488f95f6-134a-4b8d-9a7b-d6736dee30e0","Errors":[{"NextAction":"488f95f6-134a-4b8d-9a7b-d6736dee30e0","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Attributes":{"CallBackStatus":"$.External.CallBackStatus","NextContactId":"$.External.NextContactId"},"TargetContact":"Current"},"Identifier":"488f95f6-134a-4b8d-9a7b-d6736dee30e0","Type":"UpdateContactAttributes","Transitions":{"NextAction":"71234e84-11c2-4b31-b82b-582627664ec9","Errors":[{"NextAction":"71234e84-11c2-4b31-b82b-582627664ec9","ErrorType":"NoMatchingError"}]}},{"Parameters":{},"Identifier":"5700863e-795d-4b32-8f11-573666836e80","Type":"DisconnectParticipant","Transitions":{}},{"Parameters":{"Text":"We are sorry but we are having technical issues. A specialist will be with you as soon as one is available."},"Identifier":"57c2c1c9-2b1b-4aff-a774-373c0084bfbb","Type":"MessageParticipant","Transitions":{"NextAction":"73886ebc-11e0-4b24-9618-cae0a1635d8d"}},{"Parameters":{"LambdaFunctionARN":"arn:aws:lambda:us-east-1:055037574009:function:alpha-001-callbackmgmt-get-current-time","InvocationTimeLimitSeconds":"8","ResponseValidation":{"ResponseType":"STRING_MAP"}},"Identifier":"TimeStamp","Type":"InvokeLambdaFunction","Transitions":{"NextAction":"3470a652-a774-4ee4-948b-faac6a31c38b","Errors":[{"NextAction":"3470a652-a774-4ee4-948b-faac6a31c38b","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Attributes":{"callbackNumber":"$.Attributes.CallbackNumber"},"TargetContact":"Current"},"Identifier":"972f8e58-bac7-4c89-9cbc-84285721d1d0","Type":"UpdateContactAttributes","Transitions":{"NextAction":"203d3a89-d76a-4155-bcdf-b2486043eca6","Errors":[{"NextAction":"203d3a89-d76a-4155-bcdf-b2486043eca6","ErrorType":"NoMatchingError"}]}},{"Parameters":{"SSML":"<speak>You entered.<say-as interpret-as=\"telephone\">$.Attributes.TenDigitPhoneNumber </say-as> </speak>"},"Identifier":"74fbac6a-9ea9-4431-8bc9-df47a69239a3","Type":"MessageParticipant","Transitions":{"NextAction":"49953fa2-6051-4997-927a-706b28ee112e"}},{"Parameters":{"Text":"I'm sorry. I did not to get all the numbers."},"Identifier":"27471579-9a68-43d0-8387-9a438e3128f0","Type":"MessageParticipant","Transitions":{"NextAction":"74fbac6a-9ea9-4431-8bc9-df47a69239a3"}},{"Parameters":{"ComparisonValue":"$.Attributes.CallBackStatus"},"Identifier":"71234e84-11c2-4b31-b82b-582627664ec9","Type":"Compare","Transitions":{"NextAction":"74fbac6a-9ea9-4431-8bc9-df47a69239a3","Conditions":[{"NextAction":"fb2471b6-52db-4847-9cb8-474762b090f2","Condition":{"Operator":"Equals","Operands":["PENDING"]}}],"Errors":[{"NextAction":"74fbac6a-9ea9-4431-8bc9-df47a69239a3","ErrorType":"NoMatchingCondition"}]}},{"Parameters":{"Text":"I'm sorry. I did not to get all the numbers."},"Identifier":"8973c172-5315-44cf-b00d-a65972c7e0b8","Type":"MessageParticipant","Transitions":{"NextAction":"fb2471b6-52db-4847-9cb8-474762b090f2"}},{"Parameters":{"LoopCount":"1"},"Identifier":"201fe983-f15c-4c33-be09-62c1c30d27a3","Type":"Loop","Transitions":{"NextAction":"73886ebc-11e0-4b24-9618-cae0a1635d8d","Conditions":[{"NextAction":"8973c172-5315-44cf-b00d-a65972c7e0b8","Condition":{"Operator":"Equals","Operands":["ContinueLooping"]}},{"NextAction":"73886ebc-11e0-4b24-9618-cae0a1635d8d","Condition":{"Operator":"Equals","Operands":["DoneLooping"]}}]}},{"Parameters":{},"Identifier":"b9e8e8c7-c584-4278-adc3-cba473c42dba","Type":"DisconnectParticipant","Transitions":{}},{"Parameters":{"Text":"If it is correct, press 1. If not press 2.","StoreInput":"False","InputTimeLimitSeconds":"5"},"Identifier":"49953fa2-6051-4997-927a-706b28ee112e","Type":"GetParticipantInput","Transitions":{"NextAction":"11b3e7b1-dcad-43d2-816e-ef57ddddb010","Conditions":[{"NextAction":"972f8e58-bac7-4c89-9cbc-84285721d1d0","Condition":{"Operator":"Equals","Operands":["1"]}},{"NextAction":"cb23b1f6-bb16-43a7-a4f9-d2360c394580","Condition":{"Operator":"Equals","Operands":["2"]}}],"Errors":[{"NextAction":"11b3e7b1-dcad-43d2-816e-ef57ddddb010","ErrorType":"InputTimeLimitExceeded"},{"NextAction":"11b3e7b1-dcad-43d2-816e-ef57ddddb010","ErrorType":"NoMatchingCondition"},{"NextAction":"11b3e7b1-dcad-43d2-816e-ef57ddddb010","ErrorType":"NoMatchingError"}]}},{"Parameters":{"StoreInput":"True","InputTimeLimitSeconds":"6","Text":"Please enter your 10 digit phone beginning with the area code.","InputValidation":{"PhoneNumberValidation":{"NumberFormat":"Local","CountryCode":"US"}}},"Identifier":"591bdb12-069d-46ab-89b7-2be41a3beb2e","Type":"GetParticipantInput","Transitions":{"NextAction":"864a0809-01ea-4eea-ab4c-157623f51247","Errors":[{"NextAction":"cb23b1f6-bb16-43a7-a4f9-d2360c394580","ErrorType":"NoMatchingError"},{"NextAction":"cb23b1f6-bb16-43a7-a4f9-d2360c394580","ErrorType":"InvalidPhoneNumber"}]}},{"Parameters":{"Text":"I'm sorry. I did not to get all the numbers."},"Identifier":"433f02a8-f2e9-4865-ac06-8759b85da7ea","Type":"MessageParticipant","Transitions":{"NextAction":"591bdb12-069d-46ab-89b7-2be41a3beb2e"}},{"Parameters":{"CallbackNumber":"$.Attributes.callbackNumber"},"Identifier":"203d3a89-d76a-4155-bcdf-b2486043eca6","Type":"UpdateContactCallbackNumber","Transitions":{"NextAction":"TimeStamp","Errors":[{"NextAction":"82210f61-b25d-4058-8150-51e6dd534de3","ErrorType":"InvalidCallbackNumber"},{"NextAction":"82210f61-b25d-4058-8150-51e6dd534de3","ErrorType":"CallbackNumberNotDialable"}]}},{"Parameters":{"LoopCount":"1"},"Identifier":"11b3e7b1-dcad-43d2-816e-ef57ddddb010","Type":"Loop","Transitions":{"NextAction":"82210f61-b25d-4058-8150-51e6dd534de3","Conditions":[{"NextAction":"27471579-9a68-43d0-8387-9a438e3128f0","Condition":{"Operator":"Equals","Operands":["ContinueLooping"]}},{"NextAction":"82210f61-b25d-4058-8150-51e6dd534de3","Condition":{"Operator":"Equals","Operands":["DoneLooping"]}}]}},{"Parameters":{"LoopCount":"1"},"Identifier":"cb23b1f6-bb16-43a7-a4f9-d2360c394580","Type":"Loop","Transitions":{"NextAction":"82210f61-b25d-4058-8150-51e6dd534de3","Conditions":[{"NextAction":"433f02a8-f2e9-4865-ac06-8759b85da7ea","Condition":{"Operator":"Equals","Operands":["ContinueLooping"]}},{"NextAction":"82210f61-b25d-4058-8150-51e6dd534de3","Condition":{"Operator":"Equals","Operands":["DoneLooping"]}}]}},{"Parameters":{"Text":"I'm sorry, a valid 10 digit phone number is required. Please hold and we will transfer you to a specialist."},"Identifier":"82210f61-b25d-4058-8150-51e6dd534de3","Type":"MessageParticipant","Transitions":{"NextAction":"73886ebc-11e0-4b24-9618-cae0a1635d8d"}},{"Parameters":{"Text":"Press 1 to cancel your pending callback request or press 2 to wait for your callback request to be delivered.","StoreInput":"False","InputTimeLimitSeconds":"5"},"Identifier":"fb2471b6-52db-4847-9cb8-474762b090f2","Type":"GetParticipantInput","Transitions":{"NextAction":"201fe983-f15c-4c33-be09-62c1c30d27a3","Conditions":[{"NextAction":"Timestamp","Condition":{"Operator":"Equals","Operands":["1"]}},{"NextAction":"1126138c-8f58-430a-8a47-cd69238e0b12","Condition":{"Operator":"Equals","Operands":["2"]}}],"Errors":[{"NextAction":"201fe983-f15c-4c33-be09-62c1c30d27a3","ErrorType":"InputTimeLimitExceeded"},{"NextAction":"201fe983-f15c-4c33-be09-62c1c30d27a3","ErrorType":"NoMatchingCondition"},{"NextAction":"201fe983-f15c-4c33-be09-62c1c30d27a3","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Text":"Thank you for calling. Goodbye"},"Identifier":"f793b110-8689-44e1-9bd3-1c82e2739627","Type":"MessageParticipant","Transitions":{"NextAction":"b9e8e8c7-c584-4278-adc3-cba473c42dba"}},{"Parameters":{"Text":"Your Callback will be processed as requested."},"Identifier":"1126138c-8f58-430a-8a47-cd69238e0b12","Type":"MessageParticipant","Transitions":{"NextAction":"f793b110-8689-44e1-9bd3-1c82e2739627"}},{"Parameters":{"LambdaFunctionARN":"arn:aws:lambda:us-east-1:055037574009:function:alpha-001-callbackmgmt-get-current-time","InvocationTimeLimitSeconds":"8","ResponseValidation":{"ResponseType":"STRING_MAP"}},"Identifier":"Timestamp","Type":"InvokeLambdaFunction","Transitions":{"NextAction":"6451f55d-9b94-4e7c-8fe8-db96c6e99227","Errors":[{"NextAction":"6451f55d-9b94-4e7c-8fe8-db96c6e99227","ErrorType":"NoMatchingError"}]}},{"Parameters":{"LambdaFunctionARN":"arn:aws:lambda:us-east-1:055037574009:function:alpha-001-callbackmgmt-stop-contact","InvocationTimeLimitSeconds":"8","ResponseValidation":{"ResponseType":"STRING_MAP"}},"Identifier":"Remove Callback from queue","Type":"InvokeLambdaFunction","Transitions":{"NextAction":"af45db43-5225-404f-8489-72affce5c413","Errors":[{"NextAction":"af45db43-5225-404f-8489-72affce5c413","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Attributes":{"CallBackStatus":"CANCELLED","cbCancelledByCustomer":"yes","cbCancelledDate":"$.External.DateTime","CallBackStatusDT":"$.External.DateTime"},"TargetContact":"Current"},"Identifier":"6451f55d-9b94-4e7c-8fe8-db96c6e99227","Type":"UpdateContactAttributes","Transitions":{"NextAction":"Status CANCELLED","Errors":[{"NextAction":"Status CANCELLED","ErrorType":"NoMatchingError"}]}},{"Parameters":{"LambdaFunctionARN":"arn:aws:lambda:us-east-1:055037574009:function:alpha-001-callbackmgmt-update-callback","InvocationTimeLimitSeconds":"8","ResponseValidation":{"ResponseType":"STRING_MAP"}},"Identifier":"Status CANCELLED","Type":"InvokeLambdaFunction","Transitions":{"NextAction":"Remove Callback from queue","Errors":[{"NextAction":"Remove Callback from queue","ErrorType":"NoMatchingError"}]}},{"Parameters":{},"Identifier":"73886ebc-11e0-4b24-9618-cae0a1635d8d","Type":"TransferContactToQueue","Transitions":{"NextAction":"5700863e-795d-4b32-8f11-573666836e80","Errors":[{"NextAction":"5700863e-795d-4b32-8f11-573666836e80","ErrorType":"QueueAtCapacity"},{"NextAction":"5700863e-795d-4b32-8f11-573666836e80","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Attributes":{"CallBackCancelHandleBy":"Agent"},"TargetContact":"Current"},"Identifier":"0b0a6cdb-ffb9-42fd-a7a1-17764ee1eebb","Type":"UpdateContactAttributes","Transitions":{"NextAction":"63136230-1f72-4fd3-add2-ee9a25cbc55f","Errors":[{"NextAction":"63136230-1f72-4fd3-add2-ee9a25cbc55f","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Text":"Your request for callback has been successfully canceled."},"Identifier":"63136230-1f72-4fd3-add2-ee9a25cbc55f","Type":"MessageParticipant","Transitions":{"NextAction":"73886ebc-11e0-4b24-9618-cae0a1635d8d"}},{"Parameters":{"ComparisonValue":"$.External.statusCode"},"Identifier":"af45db43-5225-404f-8489-72affce5c413","Type":"Compare","Transitions":{"NextAction":"0b0a6cdb-ffb9-42fd-a7a1-17764ee1eebb","Conditions":[{"NextAction":"99161399-9635-4896-a1d0-c3d0878d477e","Condition":{"Operator":"Equals","Operands":["200"]}}],"Errors":[{"NextAction":"0b0a6cdb-ffb9-42fd-a7a1-17764ee1eebb","ErrorType":"NoMatchingCondition"}]}},{"Parameters":{"Attributes":{"CallBackCancelHandleBy":"API"},"TargetContact":"Current"},"Identifier":"99161399-9635-4896-a1d0-c3d0878d477e","Type":"UpdateContactAttributes","Transitions":{"NextAction":"63136230-1f72-4fd3-add2-ee9a25cbc55f","Errors":[{"NextAction":"63136230-1f72-4fd3-add2-ee9a25cbc55f","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Text":"Your request for a callback has been confirmed. Thank you for calling, Goodbye."},"Identifier":"4ef4e558-676d-4c77-b067-394085abee47","Type":"MessageParticipant","Transitions":{"NextAction":"5700863e-795d-4b32-8f11-573666836e80"}},{"Parameters":{"LambdaFunctionARN":"arn:aws:lambda:us-east-1:055037574009:function:alpha-001-callbackmgmt-write-callback","InvocationTimeLimitSeconds":"8","ResponseValidation":{"ResponseType":"STRING_MAP"}},"Identifier":"Create Callback record","Type":"InvokeLambdaFunction","Transitions":{"NextAction":"4ef4e558-676d-4c77-b067-394085abee47","Errors":[{"NextAction":"4ef4e558-676d-4c77-b067-394085abee47","ErrorType":"NoMatchingError"}]}},{"Parameters":{"Attributes":{"cc_CallbackNumber":"$.CallbackNumber","cc_InitiationMethod":"QUEUE_CALLBACK","CallBackStatus":"PENDING","CallBackStatusDT":"$.External.DateTime","ContactFlowName":"cbSetCallBack"},"TargetContact":"Current"},"Identifier":"3470a652-a774-4ee4-948b-faac6a31c38b","Type":"UpdateContactAttributes","Transitions":{"NextAction":"Agent Whisper flow","Errors":[{"NextAction":"Agent Whisper flow","ErrorType":"NoMatchingError"}]}},{"Parameters":{"RetryDelaySeconds":"30","InitialCallDelaySeconds":"1","MaximumConnectionAttempts":"0"},"Identifier":"987e77c4-0fc6-46df-908c-d3df6f745366","Type":"CreateCallbackContact","Transitions":{"NextAction":"Create Callback record","Errors":[{"NextAction":"57c2c1c9-2b1b-4aff-a774-373c0084bfbb","ErrorType":"NoMatchingError"}]}},{"Parameters":{"EventHooks":{"AgentWhisper":"arn:aws:connect:us-east-1:953784105530:instance/5cafc98e-41fc-47e3-a3be-e8a5404a0e9d/contact-flow/6500011f-5a75-42cb-a33c-6dfb20b786d9"}},"Identifier":"Agent Whisper flow","Type":"UpdateContactEventHooks","Transitions":{"NextAction":"987e77c4-0fc6-46df-908c-d3df6f745366","Errors":[{"NextAction":"987e77c4-0fc6-46df-908c-d3df6f745366","ErrorType":"NoMatchingError"}]}}]}